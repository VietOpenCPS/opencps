<?xml version="1.0" encoding="UTF-8"?>
<custom-sql>
	<sql id="org.opencps.dossiermgt.service.persistence.DossierFinder.searchDossier">	
		<![CDATA[
			SELECT
				opencps_dossier.*
			FROM
				opencps_dossier
			WHERE
				(groupId = ?) 
			AND
				((lower(opencps_dossier.subjectName) LIKE ? [$AND_OR_NULL_CHECK$]) OR (lower(opencps_dossier.receptionNo) LIKE ? [$AND_OR_NULL_CHECK$]))
		]]>
	</sql>
	<sql id="org.opencps.dossiermgt.service.persistence.DossierFinder.countDossier">	
		<![CDATA[
			SELECT
				count(*) AS COUNT_VALUE
			FROM
				opencps_dossier
			WHERE
				(groupId = ?) 
			AND
				((lower(opencps_dossier.subjectName) LIKE ? [$AND_OR_NULL_CHECK$]) OR (lower(opencps_dossier.receptionNo) LIKE ? [$AND_OR_NULL_CHECK$]))
		]]>
	</sql>
	<sql id="org.opencps.dossiermgt.service.persistence.DossierFinder.searchNewProcessing">	
		<![CDATA[
			SELECT
				opencps_dossier.*
			FROM
				opencps_dossier
			INNER JOIN
				opencps_serviceinfo
			ON
				opencps_dossier.serviceInfoId=opencps_serviceinfo.serviceInfoId
			WHERE
				(opencps_dossier.groupId = ?) 
			AND
				opencps_dossier.dossierStatus=?
				[$ADMINISTRATIONCODE_CONDITION$]
				[$DOMAINCODE_CONDITION$]								
		]]>
	</sql>
	<sql id="org.opencps.dossiermgt.service.persistence.DossierFinder.countNewProcessing">	
		<![CDATA[
			SELECT
				count(*) AS COUNT_VALUE
			FROM
				opencps_dossier
			INNER JOIN
				opencps_serviceinfo
			ON
				opencps_dossier.serviceInfoId=opencps_serviceinfo.serviceInfoId
			WHERE
				(opencps_dossier.groupId = ?) 
			AND
				opencps_dossier.dossierStatus=?
				[$ADMINISTRATIONCODE_CONDITION$]
				[$DOMAINCODE_CONDITION$]
		]]>
	</sql>
	<sql id="org.opencps.dossiermgt.service.persistence.DossierFinder.countDossierByDossierStatus">	
		<![CDATA[
			SELECT
				count(*) AS COUNT_VALUE
			FROM
				opencps_dossier
			WHERE
				opencps_dossier.groupId=?
				AND opencps_dossier.dossierStatus=?
		]]>
	</sql>
</custom-sql>
